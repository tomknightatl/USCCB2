<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
    <linearGradient id="dbGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4A90E2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#357ABD;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="scraperGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#50C878;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3BA55D;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="utilGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#FFB84D;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FF9500;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#2C3E50">
    USCCB Diocese Scraper System Architecture
  </text>
  
  <!-- Database Section -->
  <g id="database">
    <rect x="450" y="320" width="300" height="160" rx="10" fill="url(#dbGradient)" stroke="#2C3E50" stroke-width="2"/>
    <text x="600" y="350" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      dioceses.db (SQLite)
    </text>
    <text x="600" y="375" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
      Tables: dioceses, Parishes
    </text>
    <line x1="470" y1="385" x2="730" y2="385" stroke="white" stroke-width="1" opacity="0.5"/>
    <text x="470" y="405" font-family="Arial, sans-serif" font-size="11" fill="white">
      Fields:
    </text>
    <text x="470" y="420" font-family="Arial, sans-serif" font-size="10" fill="white">
      • id, name, address, website
    </text>
    <text x="470" y="435" font-family="Arial, sans-serif" font-size="10" fill="white">
      • url_status, url_checked_at
    </text>
    <text x="470" y="450" font-family="Arial, sans-serif" font-size="10" fill="white">
      • parish_listing_description/url
    </text>
    <text x="470" y="465" font-family="Arial, sans-serif" font-size="10" fill="white">
      • listing_type, listing_type_checked_at
    </text>
  </g>
  
  <!-- Data Sources -->
  <g id="sources">
    <rect x="50" y="80" width="200" height="80" rx="8" fill="#E8F4FD" stroke="#2C3E50" stroke-width="2"/>
    <text x="150" y="110" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2C3E50">
      USCCB Website
    </text>
    <text x="150" y="130" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">
      usccb.org/about/bishops-
    </text>
    <text x="150" y="145" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">
      and-dioceses/all-dioceses
    </text>
    
    <rect x="950" y="80" width="200" height="80" rx="8" fill="#E8F4FD" stroke="#2C3E50" stroke-width="2"/>
    <text x="1050" y="110" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2C3E50">
      Individual Diocese
    </text>
    <text x="1050" y="130" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2C3E50">
      Websites
    </text>
    <text x="1050" y="145" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">
      (Parish listings)
    </text>
  </g>
  
  <!-- Primary Scrapers -->
  <g id="scrapers">
    <rect x="50" y="220" width="200" height="60" rx="8" fill="url(#scraperGradient)" stroke="#2C3E50" stroke-width="2"/>
    <text x="150" y="245" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
      usccb_scraper.py
    </text>
    <text x="150" y="265" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      Initial diocese data collection
    </text>
    
    <rect x="300" y="220" width="200" height="60" rx="8" fill="url(#scraperGradient)" stroke="#2C3E50" stroke-width="2" stroke-dasharray="5,5" opacity="0.7"/>
    <text x="400" y="245" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
      scrape_dioceses.py
    </text>
    <text x="400" y="265" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      (Empty - To be implemented)
    </text>
  </g>
  
  <!-- Analysis Scripts -->
  <g id="analysis">
    <rect x="820" y="200" width="180" height="60" rx="8" fill="url(#scraperGradient)" stroke="#2C3E50" stroke-width="2"/>
    <text x="910" y="225" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      analyze_diocese_
    </text>
    <text x="910" y="240" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      websites.py
    </text>
    <text x="910" y="255" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
      Analyzes parish listings
    </text>
    
    <rect x="820" y="280" width="180" height="60" rx="8" fill="url(#scraperGradient)" stroke="#2C3E50" stroke-width="2"/>
    <text x="910" y="305" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      classify_parish_
    </text>
    <text x="910" y="320" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      listing_type.py
    </text>
    <text x="910" y="335" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
      Categorizes listing formats
    </text>
    
    <rect x="820" y="360" width="180" height="60" rx="8" fill="url(#scraperGradient)" stroke="#2C3E50" stroke-width="2"/>
    <text x="910" y="385" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      extract-parishes-
    </text>
    <text x="910" y="400" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      from-map.py
    </text>
    <text x="910" y="415" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
      Selenium-based scraper
    </text>
  </g>
  
  <!-- Utilities -->
  <g id="utilities">
    <rect x="100" y="540" width="150" height="50" rx="8" fill="url(#utilGradient)" stroke="#2C3E50" stroke-width="2"/>
    <text x="175" y="560" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      verify_diocese_
    </text>
    <text x="175" y="575" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      urls.py
    </text>
    
    <rect x="280" y="540" width="150" height="50" rx="8" fill="url(#utilGradient)" stroke="#2C3E50" stroke-width="2"/>
    <text x="355" y="560" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      check_parish_
    </text>
    <text x="355" y="575" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      urls.py
    </text>
    
    <rect x="460" y="540" width="150" height="50" rx="8" fill="url(#utilGradient)" stroke="#2C3E50" stroke-width="2"/>
    <text x="535" y="560" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      view_diocese_
    </text>
    <text x="535" y="575" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      analysis.py
    </text>
    
    <rect x="640" y="540" width="150" height="50" rx="8" fill="url(#utilGradient)" stroke="#2C3E50" stroke-width="2" stroke-dasharray="5,5" opacity="0.7"/>
    <text x="715" y="560" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      update_db_entry.py
    </text>
    <text x="715" y="575" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      (Referenced)
    </text>
  </g>
  
  <!-- Testing -->
  <g id="testing">
    <rect x="820" y="540" width="150" height="50" rx="8" fill="#9B59B6" stroke="#2C3E50" stroke-width="2"/>
    <text x="895" y="560" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      test_selenium.py
    </text>
    <text x="895" y="575" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      Selenium test script
    </text>
  </g>
  
  <!-- Documentation -->
  <g id="docs">
    <rect x="1000" y="540" width="150" height="50" rx="8" fill="#95A5A6" stroke="#2C3E50" stroke-width="2"/>
    <text x="1075" y="555" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
      selenium_setup_
    </text>
    <text x="1075" y="570" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
      guide.md
    </text>
    <text x="1075" y="585" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
      Setup documentation
    </text>
  </g>
  
  <!-- Arrows showing data flow -->
  <g id="arrows">
    <!-- USCCB to scraper -->
    <path d="M 150 160 L 150 220" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    
    <!-- Scraper to DB -->
    <path d="M 250 250 Q 350 250 450 380" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    
    <!-- Diocese websites to analysis scripts -->
    <path d="M 1050 160 L 1050 190 Q 1050 200 1040 200 L 1000 200" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    <path d="M 950 230 L 1000 230" stroke="#333" stroke-width="2" fill="none"/>
    <path d="M 950 310 L 1000 310" stroke="#333" stroke-width="2" fill="none"/>
    <path d="M 950 390 L 1000 390" stroke="#333" stroke-width="2" fill="none"/>
    
    <!-- Analysis scripts to DB -->
    <path d="M 820 230 Q 785 230 750 380" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    <path d="M 820 310 Q 785 310 750 400" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    <path d="M 820 390 Q 785 390 750 420" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    
    <!-- Utilities to DB -->
    <path d="M 175 540 Q 175 400 450 400" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    <path d="M 355 540 Q 355 420 450 420" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    <path d="M 535 540 L 535 480" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    <path d="M 715 540 Q 715 440 750 440" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" fill="none" stroke-dasharray="5,5"/>
  </g>
  
  <!-- Legend -->
  <g id="legend">
    <rect x="50" y="660" width="1100" height="120" rx="8" fill="#F5F5F5" stroke="#2C3E50" stroke-width="1"/>
    <text x="60" y="680" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2C3E50">
      Legend:
    </text>
    
    <rect x="70" y="690" width="60" height="20" rx="4" fill="url(#scraperGradient)"/>
    <text x="140" y="704" font-family="Arial, sans-serif" font-size="12" fill="#2C3E50">
      Data Collection/Analysis Scripts
    </text>
    
    <rect x="350" y="690" width="60" height="20" rx="4" fill="url(#utilGradient)"/>
    <text x="420" y="704" font-family="Arial, sans-serif" font-size="12" fill="#2C3E50">
      Utility Scripts
    </text>
    
    <rect x="600" y="690" width="60" height="20" rx="4" fill="url(#dbGradient)"/>
    <text x="670" y="704" font-family="Arial, sans-serif" font-size="12" fill="#2C3E50">
      Database
    </text>
    
    <rect x="850" y="690" width="60" height="20" rx="4" fill="#9B59B6"/>
    <text x="920" y="704" font-family="Arial, sans-serif" font-size="12" fill="#2C3E50">
      Testing
    </text>
    
    <text x="60" y="735" font-family="Arial, sans-serif" font-size="12" fill="#2C3E50">
      Workflow:
    </text>
    <text x="70" y="755" font-family="Arial, sans-serif" font-size="11" fill="#555">
      1. usccb_scraper.py → Collects initial diocese data from USCCB website
    </text>
    <text x="70" y="770" font-family="Arial, sans-serif" font-size="11" fill="#555">
      2. Analysis scripts → Process individual diocese websites for parish information
    </text>
    <text x="570" y="755" font-family="Arial, sans-serif" font-size="11" fill="#555">
      3. Utility scripts → Verify URLs and view results
    </text>
    <text x="570" y="770" font-family="Arial, sans-serif" font-size="11" fill="#555">
      4. All data stored in dioceses.db SQLite database
    </text>
  </g>
</svg>